
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: var(--font-poppins), -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@layer base {
  :root {
    /* Light Theme - Apple Inspired (Cool Metallic) */
    --background: 210 33% 98%; /* Very Light Cool Gray (Almost White) */
    --foreground: 220 25% 25%; /* Dark Cool Gray */

    --card: 0 0% 100%; /* White */
    --card-foreground: 220 25% 25%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 25% 25%;

    /* Primary color HSL components */
    --primary-h: 210;
    --primary-s: 100%;
    --primary-l: 50%;
    --primary: var(--primary-h) var(--primary-s) var(--primary-l); /* Vibrant Blue (Apple's Blue #007AFF) */
    --primary-foreground: 0 0% 100%; /* White */

    --secondary: 210 25% 96%; /* Light Gray (Sterling Silver/Platinum hint) */
    --secondary-foreground: 220 25% 35%; /* Medium-Dark Cool Gray */

    --muted: 210 20% 90%; /* Lighter Cool Gray */
    --muted-foreground: 220 20% 50%; /* Medium Cool Gray */

    /* Accent color HSL components */
    --accent-h: 170; /* Teal - was 260 (Purple) */
    --accent-s: 98%;
    --accent-l: 52%; /* Adjusted for better visibility if used as bg */
    --accent: var(--accent-h) var(--accent-s) var(--accent-l); /* Vibrant Teal/Cyan */
    --accent-foreground: 210 100% 10%; /* Dark Blue for contrast on accent */
    
    --destructive: 0 70% 60%; /* Standard Red */
    --destructive-foreground: 0 0% 100%;

    --border: 210 20% 88%; /* Light Cool Gray Border */
    --input: 210 20% 92%; /* Slightly darker than secondary for input bg */
    --ring: 210 100% 55%; /* Primary Blue for focus rings */

    --radius: 0.75rem; /* Apple-like rounded corners */

    /* Sidebar specific colors - Light Mode (Gemini Inspired) */
    --sidebar-background: 220 20% 97%; /* Lighter, cleaner grey */
    --sidebar-foreground: 220 25% 28%; /* Slightly softer dark grey for text */
    --sidebar-primary: hsl(var(--primary)); 
    --sidebar-primary-foreground: hsl(var(--primary-foreground));
    --sidebar-accent: 220 80% 92%; /* Light, subtle blue accent for hover */
    --sidebar-accent-foreground: 220 80% 40%; /* Darker blue for text on accent */
    --sidebar-active-background: hsl(var(--primary)); 
    --sidebar-active-foreground: hsl(var(--primary-foreground));
    --sidebar-border: 220 15% 88%; 
    --sidebar-ring: hsl(var(--ring));
    
    /* Chart Colors - Light Mode */
    --chart-1: hsl(var(--primary));  
    --chart-2: hsl(var(--accent));  
    --chart-3: 260 65% 60%;  /* Purple */
    --chart-4: 30 80% 55%;   /* Orange */
    --chart-5: 130 50% 50%;  /* Green */

    /* Firebase Inspired Gradient Colors (Light Mode) - Used for accents */
    --firebase-color-1-light: 45 100% 58%; /* Bright Yellow (e.g., #FFCA28) */
    --firebase-color-2-light: 36 100% 50%; /* Bright Orange (e.g., #FFA000) */
    --firebase-color-3-light: 25 100% 55%; /* Orange-Red (e.g., #FF8A65) */
    --firebase-color-4-light: 15 100% 60%; /* Reddish-Orange (e.g., #FF7043) */

    --welcome-color-1: hsl(var(--firebase-color-1-light));
    --welcome-color-2: hsl(var(--firebase-color-2-light));
    --welcome-color-3: hsl(var(--firebase-color-3-light));
    --welcome-color-4: hsl(var(--firebase-color-4-light));

    /* Apple "Hello" Inspired Welcome Screen Gradient HSL components (Light Mode) */
    --welcome-gradient-apple-hello-l1-h: 225; --welcome-gradient-apple-hello-l1-s: 100%; --welcome-gradient-apple-hello-l1-l: 97%; /* Very Pale Blue */
    --welcome-gradient-apple-hello-l2-h: 270; --welcome-gradient-apple-hello-l2-s: 100%; --welcome-gradient-apple-hello-l2-l: 97%; /* Very Pale Lavender */
    --welcome-gradient-apple-hello-l3-h: 180; --welcome-gradient-apple-hello-l3-s: 100%; --welcome-gradient-apple-hello-l3-l: 97%; /* Very Pale Cyan */
    --welcome-gradient-apple-hello-l4-h: var(--primary-h); --welcome-gradient-apple-hello-l4-s: var(--primary-s); --welcome-gradient-apple-hello-l4-l: calc(var(--primary-l) + 40%) ; /* Faint primary influence, lightened significantly */

    /* Apple Event Poster Inspired Splash Screen HSL components (Light Mode) */
    --event-deep-purple-h: 260;
    --event-deep-purple-s: 60%;
    --event-deep-purple-l-start: 15%;
    --event-deep-purple-l-mid: 22%;
    --event-mid-blue-h: 235;
    --event-mid-blue-s: 55%;
    --event-mid-blue-l: 30%;
    --event-bloom-magenta-h: 310;
    --event-bloom-magenta-s: 75%;
    --event-bloom-magenta-l: 45%;
    --event-bloom-magenta-a: 0.7;
    --event-bloom-orange-h: 30;
    --event-bloom-orange-s: 95%;
    --event-bloom-orange-l: 55%;
    --event-bloom-orange-a: 0.65;
    --event-bloom-yellow-h: 45;
    --event-bloom-yellow-s: 100%;
    --event-bloom-yellow-l: 60%;
    --event-bloom-yellow-a: 0.5;
    --event-light-beam-core-l: 97%;
    --event-light-beam-h: 200;
    --event-light-beam-s: 90%;
    --event-light-beam-edge-a: 0.3;
    --event-light-beam-mid-a: 0.6;

    /* Heart/ECG Icon Colors for Splash */
    --heart-stroke-initial-h: 210;
    --heart-stroke-initial-s: 100%;
    --heart-stroke-initial-l: 70%; /* Brighter for better contrast on dark splash */
    --heart-stroke-animated-h: 330;
    --heart-stroke-animated-s: 100%;
    --heart-stroke-animated-l: 70%;
    --ecg-stroke-color-h: 200;
    --ecg-stroke-color-s: 100%;
    --ecg-stroke-color-l: 75%;

    /* Text Colors for Splash */
    --splash-text-color: white;
    --splash-tagline-color: rgba(255, 255, 255, 0.85);


    /* Notification Panel Compact Colors - Light Mode (Solid, not frosted) */
    --notification-panel-compact-bg: 0 0% 100%; /* White */
    --notification-panel-compact-border: 210 20% 88%; /* Light Cool Gray Border */
    --notification-item-compact-bg: 0 0% 100%; /* White for item cards */
    --notification-item-compact-hover-bg: 210 25% 96%; /* Light Gray for hover */
    --notification-unread-dot-color: hsl(var(--primary)); /* Primary blue for unread dot */
  }

  .dark {
    /* Dark Theme - Apple Inspired (Deep Navy/Cool Metallic) */
    --background: 216 65% 11%; /* Deep Navy Blue */
    --foreground: 215 100% 95%; /* Off-white with a slight cool tint */

    --card: 216 54% 20%; /* Darker shade of navy/gray */
    --card-foreground: 215 100% 95%;

    --popover: 216 65% 9%; /* Slightly darker than background */
    --popover-foreground: 215 100% 95%;

    /* Primary color HSL components - Dark */
    --primary-h: 210;
    --primary-s: 100%;
    --primary-l: 60%;
    --primary: var(--primary-h) var(--primary-s) var(--primary-l); /* Lighter, vibrant Blue */
    --primary-foreground: 216 65% 10%; /* Dark Blue-Gray for text on primary */

    --secondary: 216 50% 25%; /* Dark Muted Blue/Gray */
    --secondary-foreground: 215 20% 85%; /* Light Gray */

    --muted: 216 45% 18%; /* Very Dark Muted Blue */
    --muted-foreground: 215 15% 70%; /* Mid-Light Gray */

    /* Accent color HSL components - Dark */
    --accent-h: 170; /* Teal - was 260 (Purple) */
    --accent-s: 98%;
    --accent-l: 52%;
    --accent: var(--accent-h) var(--accent-s) var(--accent-l); /* Vibrant Teal/Cyan */
    --accent-foreground: 170 90% 10%; /* Very Dark Cyan/Teal for text on accent */

    --destructive: 0 60% 55%; /* Vibrant but slightly desaturated Red */
    --destructive-foreground: 0 0% 100%; /* White */

    --border: 216 40% 30%; /* Subtle Border Color */
    --input: 216 50% 28%; /* Input Background / Border */
    --ring: 210 100% 65%; /* Brighter Primary for focus rings */

    /* Sidebar specific colors - Dark Mode (Gemini Inspired) */
    --sidebar-background: 220 30% 12%; /* Darker, sophisticated blue/grey */
    --sidebar-foreground: 220 15% 88%; /* Brighter off-white for text */
    --sidebar-primary: hsl(var(--primary));
    --sidebar-primary-foreground: hsl(var(--primary-foreground));
    --sidebar-accent: 220 40% 22%; /* Subtle darker blue for hover */
    --sidebar-accent-foreground: 220 80% 80%; /* Lighter blue for text on accent */
    --sidebar-active-background: hsl(var(--primary)); 
    --sidebar-active-foreground: hsl(var(--primary-foreground)); 
    --sidebar-border: 220 25% 20%; 
    --sidebar-ring: hsl(var(--ring));

    /* Chart Colors - Dark Mode */
    --chart-1: hsl(var(--primary));  
    --chart-2: hsl(var(--accent));  
    --chart-3: 270 70% 70%;  /* Bright Purple */
    --chart-4: 40 90% 65%;   /* Bright Yellow-Orange */
    --chart-5: 140 60% 60%;  /* Bright Green */

    /* Firebase Inspired Gradient Colors (Dark Mode) - Used for accents */
    --firebase-color-1-dark: 45 100% 65%; /* Brighter Yellow */
    --firebase-color-2-dark: 36 100% 60%; /* Brighter Orange */
    --firebase-color-3-dark: 25 100% 65%; /* Brighter Orange-Red */
    --firebase-color-4-dark: 15 100% 70%; /* Brighter Reddish-Orange */
    
    --welcome-color-1: hsl(var(--firebase-color-1-dark));
    --welcome-color-2: hsl(var(--firebase-color-2-dark));
    --welcome-color-3: hsl(var(--firebase-color-3-dark));
    --welcome-color-4: hsl(var(--firebase-color-4-dark));

    /* Apple "Hello" Inspired Welcome Screen Gradient HSL components (Dark Mode) */
    --welcome-gradient-apple-hello-d1-h: 220; --welcome-gradient-apple-hello-d1-s: 70%; --welcome-gradient-apple-hello-d1-l: 12%; /* Deep Dark Blue */
    --welcome-gradient-apple-hello-d2-h: 280; --welcome-gradient-apple-hello-d2-s: 60%; --welcome-gradient-apple-hello-d2-l: 15%; /* Darker Purple */
    --welcome-gradient-apple-hello-d3-h: 200; --welcome-gradient-apple-hello-d3-s: 50%; --welcome-gradient-apple-hello-d3-l: 18%; /* Dark Cool Cyan-Blue */
    --welcome-gradient-apple-hello-d4-h: var(--primary-h); --welcome-gradient-apple-hello-d4-s: var(--primary-s); --welcome-gradient-apple-hello-d4-l: var(--primary-l) ; /* Faint primary from theme */

    /* Apple Event Poster Inspired Splash Screen HSL components (Dark Mode) - Ensure high contrast & vibrancy */
    --event-deep-purple-h: 260;
    --event-deep-purple-s: 65%;
    --event-deep-purple-l-start: 10%; /* Even darker for base */
    --event-deep-purple-l-mid: 18%;
    --event-mid-blue-h: 230;
    --event-mid-blue-s: 60%;
    --event-mid-blue-l: 25%;
    --event-bloom-magenta-h: 315;
    --event-bloom-magenta-s: 80%;
    --event-bloom-magenta-l: 50%;
    --event-bloom-magenta-a: 0.75;
    --event-bloom-orange-h: 35;
    --event-bloom-orange-s: 100%;
    --event-bloom-orange-l: 60%;
    --event-bloom-orange-a: 0.7;
    --event-bloom-yellow-h: 50;
    --event-bloom-yellow-s: 100%;
    --event-bloom-yellow-l: 65%;
    --event-bloom-yellow-a: 0.6;
    --event-light-beam-core-l: 98%;
    --event-light-beam-h: 205;
    --event-light-beam-s: 95%;
    --event-light-beam-edge-a: 0.35;
    --event-light-beam-mid-a: 0.65;

    /* Heart/ECG Icon Colors for Splash - Dark Mode */
    /* Keep them bright for contrast */
    --heart-stroke-initial-h: 210;
    --heart-stroke-initial-s: 100%;
    --heart-stroke-initial-l: 75%;
    --heart-stroke-animated-h: 330;
    --heart-stroke-animated-s: 100%;
    --heart-stroke-animated-l: 75%;
    --ecg-stroke-color-h: 200;
    --ecg-stroke-color-s: 100%;
    --ecg-stroke-color-l: 80%;

    /* Text Colors for Splash - Dark Mode (already defined as white) */
    /* --splash-text-color: white; */
    /* --splash-tagline-color: rgba(255, 255, 255, 0.85); */


    /* Notification Panel Compact Colors - Dark Mode (Solid, not frosted) */
    --notification-panel-compact-bg: 216 54% 18%; /* Darker card-like color */
    --notification-panel-compact-border: 216 40% 25%; /* Darker border */
    --notification-item-compact-bg: 216 54% 18%; /* Darker card for items */
    --notification-item-compact-hover-bg: 216 50% 22%; /* Slightly lighter hover */
    --notification-unread-dot-color: hsl(var(--primary)); /* Primary blue for unread dot */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* Animation Utilities */
.fade-in {
  opacity: 0;
  transform: translateY(10px);
  animation: fadeInAnimation 0.5s ease-out forwards;
}

.fade-in-delay-1 { animation-delay: 0.1s; }
.fade-in-delay-2 { animation-delay: 0.2s; }
.fade-in-delay-3 { animation-delay: 0.3s; }
.fade-in-delay-4 { animation-delay: 0.4s; }
.fade-in-delay-5 { animation-delay: 0.5s; }
.fade-in-delay-7 { animation-delay: 0.7s; }
.fade-in-delay-10 { animation-delay: 1s; }


@keyframes fadeInAnimation {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.slide-in-bottom {
  opacity: 0;
  transform: translateY(20px);
  animation: slideInBottomAnimation 0.7s ease-in-out forwards;
}

@keyframes slideInBottomAnimation {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Heartbeat Line Animation */
.heartbeat-line {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: drawHeartbeat 3s linear infinite;
}

@keyframes drawHeartbeat {
  to {
    stroke-dashoffset: 0;
  }
}

/* Content Crossfade */
.content-area > .active-mode {
  opacity: 1;
  transform: scale(1);
  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
}
.content-area > .inactive-mode {
  opacity: 0;
  transform: scale(0.95);
  height: 0;
  overflow: hidden;
  pointer-events: none;
  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out, height 0s 0.4s;
}

/* Input focus glow */
.input-focus-glow:focus-within {
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.4);
}

/* Animated Gradient Text for Logo and other elements */
.animated-gradient-text {
  background-size: 200% auto;
  background-image: linear-gradient(to right, hsl(var(--primary)) 0%, hsl(var(--accent)) 50%, hsl(var(--primary)) 100%);
  animation: gradient-flow 3s linear infinite;
  /* -webkit-background-clip and background-clip are applied by Tailwind's bg-clip-text */
  /* color: transparent is applied by Tailwind's text-transparent */
}

@keyframes gradient-flow {
  0% { background-position: 0% center; }
  50% { background-position: 200% center; }
  100% { background-position: 0% center; }
}

/* Pulse animation for medical icon */
@keyframes pulseMedical {
  0%, 100% {
    opacity: var(--medical-pulse-opacity-base, 0.8);
    transform: scale(1);
  }
  50% {
    opacity: var(--medical-pulse-opacity-peak, 0.5);
    transform: scale(var(--medical-pulse-scale-peak, 1.2)); /* Use CSS variable for scale */
  }
}

.animate-pulse-medical {
  animation: pulseMedical 1.8s infinite ease-in-out;
  display: inline-flex;
  align-items: center;
}


/* Welcome Screen / Hero Text Animations (Firebase Color Cycle) */
@keyframes welcome-text-color-cycle {
  0% { color: var(--welcome-color-1); }
  25% { color: var(--welcome-color-2); }
  50% { color: var(--welcome-color-3); }
  75% { color: var(--welcome-color-4); }
  100% { color: var(--welcome-color-1); }
}

.welcome-text-fg-animated {
  color: var(--welcome-color-1);
  animation: welcome-text-color-cycle 10s linear infinite; /* Adjusted duration */
}


@keyframes animated-gradient-background {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* New Firebase Ribbon Background */
@keyframes animated-firebase-ribbon-background {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.firebase-ribbon-background {
  background: linear-gradient(
    135deg,
    hsla(var(--welcome-color-1)/0.95),
    hsla(var(--welcome-color-2)/0.95),
    hsla(var(--welcome-color-3)/0.95),
    hsla(var(--welcome-color-4)/0.95),
    hsla(var(--welcome-color-1)/0.95)
  );
  background-size: 250% 250%;
  animation: animated-firebase-ribbon-background 10s ease infinite;
  color: hsl(var(--primary-foreground));
}


/* Bot thinking animation */
@keyframes ecg-beat {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  10%, 30% { transform: scale(0.9); opacity: 0.7; }
  20% { transform: scale(1.2); opacity: 1; }
  40% { transform: scale(1); opacity: 0.8; }
}

.animate-ecg-beat {
  animation: ecg-beat 1.5s infinite cubic-bezier(0.215, 0.610, 0.355, 1.000);
}

/* Firebase Gradient Glowing Ring for AvatarFallback */
@keyframes firebase-glow-ring {
  0%, 100% { box-shadow: 0 0 3px var(--welcome-color-1), 0 0 6px var(--welcome-color-1), 0 0 10px hsla(var(--welcome-color-1)/0.6); }
  25% { box-shadow: 0 0 3px var(--welcome-color-2), 0 0 6px var(--welcome-color-2), 0 0 10px hsla(var(--welcome-color-2)/0.6); }
  50% { box-shadow: 0 0 3px var(--welcome-color-3), 0 0 6px var(--welcome-color-3), 0 0 10px hsla(var(--welcome-color-3)/0.6); }
  75% { box-shadow: 0 0 3px var(--welcome-color-4), 0 0 6px var(--welcome-color-4), 0 0 10px hsla(var(--welcome-color-4)/0.6); }
}

.glowing-ring-firebase {
  animation: firebase-glow-ring 5s linear infinite;
}

/* Firebase Gradient Text with Glow and Flow */
.firebase-gradient-text {
  background-size: 200% auto;
  background-image: linear-gradient(to right,
    var(--welcome-color-1) 0%,
    var(--welcome-color-2) 25%,
    var(--welcome-color-3) 50%,
    var(--welcome-color-4) 75%,
    var(--welcome-color-1) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    0 0 4px hsla(var(--welcome-color-2)/0.5),
    0 0 8px hsla(var(--welcome-color-3)/0.3);
  animation: firebase-gradient-flow 4s linear infinite;
}

/* Firebase Gradient Text for Active Role - Static gradient with glow */
.firebase-gradient-text-active-role {
  background-image: linear-gradient(to right,
    var(--welcome-color-1) 0%,
    var(--welcome-color-2) 25%,
    var(--welcome-color-3) 50%,
    var(--welcome-color-4) 75%,
    var(--welcome-color-1) 100%);
  background-size: 100% auto; /* Static gradient, not animated by default */
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 2px hsla(var(--welcome-color-2)/0.4); /* Subtle glow */
}


@keyframes firebase-gradient-flow {
  to {
    background-position: 200% center;
  }
}


/* Error Message Highlight Animation */
@keyframes error-highlight-animation {
  0%, 100% {
    box-shadow: 0 0 4px hsl(var(--destructive) / 0.3);
    border-color: hsl(var(--destructive) / 0.4);
  }
  50% {
    box-shadow: 0 0 8px hsl(var(--destructive) / 0.6), 0 0 12px hsl(var(--destructive) / 0.4);
    border-color: hsl(var(--destructive) / 0.7);
  }
}

.animate-error-highlight {
  animation: error-highlight-animation 2s infinite ease-in-out;
}

/* Pro Mode Dashboard Tool Card Animations */
.tool-card-frequent.firebase-gradient-border-hover:hover {
  position: relative;
  border-color: transparent !important;
}

.tool-card-frequent.firebase-gradient-border-hover:hover::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: calc(var(--radius) + 2px);
  padding: 2px;
  background: linear-gradient(135deg,
    var(--welcome-color-1),
    var(--welcome-color-2),
    var(--welcome-color-3),
    var(--welcome-color-4),
    var(--welcome-color-1)
  );
  background-size: 400% 400%;
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: animated-gradient-background 5s ease infinite;
  z-index: 0;
}

/* Subtle pulse/glow for tool cards (can be applied conditionally) */
@keyframes subtle-pulse-glow {
  0%, 100% { box-shadow: 0 0 5px hsl(var(--primary) / 0.1), 0 0 10px hsl(var(--primary) / 0.05), 0 0 2px hsl(var(--welcome-color-1)/0.3)); }
  50% { box-shadow: 0 0 10px hsl(var(--primary) / 0.2), 0 0 15px hsl(var(--primary) / 0.1), 0 0 5px hsl(var(--welcome-color-2)/0.5)); }
}

.animate-subtle-pulse-glow {
  animation: subtle-pulse-glow 2.5s infinite ease-in-out;
}


/* Shimmer animation */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite linear;
  background: linear-gradient(to right, transparent 20%, hsl(var(--primary)/0.1) 50%, transparent 80%);
  background-size: 1000px 100%;
}

/* Additional Firebase-inspired button focus/hover */
.firebase-button-interactive {
  transition: all 0.3s ease;
}
.firebase-button-interactive:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px hsla(var(--welcome-color-2)/0.3);
}
.firebase-button-interactive:focus-visible {
  outline: 2px solid var(--welcome-color-1);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px hsla(var(--welcome-color-1)/0.2);
}

/* Gemini Inspired CTA Button Glow - Now Firebase Inspired */
@keyframes gemini-cta-glow {
  0%, 100% {
    box-shadow: 0 0 5px hsla(var(--welcome-color-1)/0.3), 0 0 10px hsla(var(--welcome-color-2)/0.2), 0 0 15px hsla(var(--welcome-color-3)/0.2);
  }
  50% {
    box-shadow: 0 0 10px hsla(var(--welcome-color-2)/0.5), 0 0 20px hsla(var(--welcome-color-3)/0.3), 0 0 30px hsla(var(--welcome-color-4)/0.3);
  }
}

.gemini-cta-button {
  animation: gemini-cta-glow 3s infinite ease-in-out;
}


/* Sidebar Active Item Glow */
@keyframes sidebar-active-glow {
  0%, 100% {
    box-shadow: 0 0 8px hsl(var(--sidebar-primary)/0.3), 0 0 12px hsl(var(--sidebar-primary)/0.2), inset 0 0 5px hsl(var(--sidebar-primary)/0.1);
  }
  50% {
    box-shadow: 0 0 12px hsl(var(--sidebar-primary)/0.5), 0 0 18px hsl(var(--sidebar-primary)/0.3), inset 0 0 8px hsl(var(--sidebar-primary)/0.2);
  }
}

.sidebar-active-item-glow {
  position: relative;
}

/* New Sidebar Active Item Indicator Bar (Gemini-Inspired) */
.sidebar-active-item-glow::before {
  content: '';
  position: absolute;
  left: 0;
  top: 20%;
  bottom: 20%;
  width: 4px;
  background-image: linear-gradient(to bottom, hsl(var(--sidebar-primary)/0.8), hsl(var(--sidebar-accent)/0.8));
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
  box-shadow: 0 0 8px hsl(var(--sidebar-primary)/0.5);
  animation: sidebar-indicator-pulse 2s infinite ease-in-out;
}
/* Collapsed sidebar active item indicator */
.group[data-collapsible="icon"] .sidebar-active-item-glow::before {
  top: 10%;
  bottom: 10%;
  left: -2px; /* Adjust position for collapsed icon state */
  width: 3px;
}


@keyframes sidebar-indicator-pulse {
  0%, 100% { opacity: 0.7; transform: scaleY(1); }
  50% { opacity: 1; transform: scaleY(1.1); }
}


/* Sidebar Item Hover Shine Effect */
.sidebar-item-shine {
  position: relative;
  overflow: hidden;
}

.sidebar-item-shine::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background-image: linear-gradient(
    to right,
    transparent 0%,
    hsla(var(--sidebar-accent-foreground)/0.05) 30%,
    hsla(var(--sidebar-accent-foreground)/0.15) 50%,
    hsla(var(--sidebar-accent-foreground)/0.05) 70%,
    transparent 100%
  );
  transform: translateX(-150%) translateY(-25%) rotate(25deg);
  transition: transform 0.7s cubic-bezier(0.23, 1, 0.32, 1);
  pointer-events: none;
  z-index: 1;
}

.sidebar-item-shine:hover::after {
  transform: translateX(50%) translateY(-25%) rotate(25deg);
}


/* Welcome Screen Gradient Animation - Radiating (Apple Hello Inspired) - Light Mode */
@keyframes welcome-gradient-radiate-animation-light {
  0% {
    background-color: hsl(var(--background));
    background-image: none;
  }
  20% {
    background-color: hsl(var(--background));
    background-image: radial-gradient(circle at center, hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.05) 0%, hsl(var(--background)) 20%);
  }
  50% {
    background-image: radial-gradient(circle at center,
      hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.15) 10%,
      hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.1) 35%,
      hsla(var(--welcome-gradient-apple-hello-l1-h), var(--welcome-gradient-apple-hello-l1-s), var(--welcome-gradient-apple-hello-l1-l), 0.05) 60%,
      hsl(var(--background)) 85%);
  }
  100% {
    background-image: radial-gradient(ellipse farthest-corner at center,
      hsla(var(--welcome-gradient-apple-hello-l1-h), var(--welcome-gradient-apple-hello-l1-s), var(--welcome-gradient-apple-hello-l1-l), 0.9) 0%,
      hsla(var(--welcome-gradient-apple-hello-l2-h), var(--welcome-gradient-apple-hello-l2-s), var(--welcome-gradient-apple-hello-l2-l), 0.95) 35%,
      hsla(var(--welcome-gradient-apple-hello-l3-h), var(--welcome-gradient-apple-hello-l3-s), var(--welcome-gradient-apple-hello-l3-l), 0.85) 70%,
      hsla(var(--welcome-gradient-apple-hello-l4-h), var(--welcome-gradient-apple-hello-l4-s), calc(var(--primary-l) + 40%), 0.2) 100%);
    background-color: hsl(var(--welcome-gradient-apple-hello-l1-h) var(--welcome-gradient-apple-hello-l1-s) var(--welcome-gradient-apple-hello-l1-l));
  }
}
/* Welcome Screen Gradient Animation - Radiating (Apple Hello Inspired) - Dark Mode */
@keyframes welcome-gradient-radiate-animation-dark {
  0% {
    background-color: hsl(var(--event-deep-purple-h) var(--event-deep-purple-s) 5%); /* Start very dark */
    background-image: none;
  }
  20% {
    background-color: hsl(var(--event-deep-purple-h) var(--event-deep-purple-s) 5%);
    background-image: radial-gradient(circle at center, hsla(var(--primary-h), var(--primary-s), calc(var(--primary-l) + 10%), 0.1) 0%, hsl(var(--event-deep-purple-h) var(--event-deep-purple-s) 5%) 20%);
  }
  50% {
    background-image: radial-gradient(circle at center,
      hsla(var(--primary-h), var(--primary-s), calc(var(--primary-l) + 5%), 0.2) 10%,
      hsla(var(--accent-h), var(--accent-s), calc(var(--accent-l) + 5%), 0.15) 35%,
      hsla(var(--welcome-gradient-apple-hello-d1-h), var(--welcome-gradient-apple-hello-d1-s), var(--welcome-gradient-apple-hello-d1-l), 0.1) 60%,
      hsl(var(--event-deep-purple-h) var(--event-deep-purple-s) 5%) 85%);
  }
  100% {
    background-image: radial-gradient(ellipse farthest-corner at center,
      hsla(var(--welcome-gradient-apple-hello-d1-h), var(--welcome-gradient-apple-hello-d1-s), var(--welcome-gradient-apple-hello-d1-l), 0.9) 0%,
      hsla(var(--welcome-gradient-apple-hello-d2-h), var(--welcome-gradient-apple-hello-d2-s), var(--welcome-gradient-apple-hello-d2-l), 0.95) 35%,
      hsla(var(--welcome-gradient-apple-hello-d3-h), var(--welcome-gradient-apple-hello-d3-s), var(--welcome-gradient-apple-hello-d3-l), 0.85) 70%,
      hsla(var(--welcome-gradient-apple-hello-d4-h), var(--welcome-gradient-apple-hello-d4-s), var(--primary-l), 0.2) 100%);
    background-color: hsl(var(--welcome-gradient-apple-hello-d1-h) var(--welcome-gradient-apple-hello-d1-s) var(--welcome-gradient-apple-hello-d1-l));
  }
}

.welcome-screen-gradient {
  background-size: 100% 100%; /* Ensure gradient covers fully for the fill effect */
  animation: welcome-gradient-radiate-animation-light 2.8s ease-out forwards; /* 'forwards' keeps the end state */
}
.dark .welcome-screen-gradient {
  animation-name: welcome-gradient-radiate-animation-dark;
}

/* Apple Event Poster Inspired Splash Screen */
/* Static background for .apple-event-splash-screen */
.apple-event-splash-screen {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: fixed;
  inset: 0;
  z-index: 200; /* Ensure it's on top */
  
  /* Static Multi-Layered Background Gradients for Apple Poster Effect - Light Theme Base */
  background-image:
    /* Layer 5: Strongest Light Beam (example) - adjust angles/positions */
    linear-gradient(
      125deg, /* Angle */
      transparent 42%,
      hsla(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l), var(--event-light-beam-edge-a)) 48%,
      hsla(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l), var(--event-light-beam-mid-a)) 49.5%,
      hsl(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l)) 50%,
      hsla(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l), var(--event-light-beam-mid-a)) 50.5%,
      hsla(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l), var(--event-light-beam-edge-a)) 52%,
      transparent 58%
    ),
    /* Layer 4: Secondary Light Beam (example) - different angle/position/intensity */
    linear-gradient(
      -30deg, /* Angle */
      transparent 45%,
      hsla(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l), calc(var(--event-light-beam-edge-a) - 0.1) ) 49%, /* Softer */
      hsla(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l), calc(var(--event-light-beam-mid-a) - 0.2) ) 50%,
      hsla(var(--event-light-beam-h), var(--event-light-beam-s), var(--event-light-beam-core-l), calc(var(--event-light-beam-edge-a) - 0.1) ) 51%,
      transparent 55%
    ),
    /* Layer 3: Orange/Yellow Bloom (Top Right area) */
    radial-gradient(
      ellipse 80% 70% at 75% 25%, /* Position & Shape */
      hsla(var(--event-bloom-yellow-h), var(--event-bloom-yellow-s), var(--event-bloom-yellow-l), var(--event-bloom-yellow-a)) 0%,
      hsla(var(--event-bloom-orange-h), var(--event-bloom-orange-s), var(--event-bloom-orange-l), var(--event-bloom-orange-a)) 30%,
      transparent 65% /* Softer fade-out */
    ),
    /* Layer 2: Magenta/Purple Bloom (Left/Center area) */
    radial-gradient(
      ellipse 90% 80% at 25% 60%, /* Position & Shape */
      hsla(var(--event-bloom-magenta-h), var(--event-bloom-magenta-s), var(--event-bloom-magenta-l), var(--event-bloom-magenta-a)) 0%,
      hsla(var(--event-deep-purple-h), var(--event-deep-purple-s), var(--event-deep-purple-l-mid), calc(var(--event-bloom-magenta-a) + 0.1)) 40%, /* Blend into purple */
      transparent 70%
    ),
    /* Layer 1: Base Deep Space Gradient (Covers everything underneath) */
    linear-gradient(
      170deg, /* Main sweep angle */
      hsl(var(--event-mid-blue-h), var(--event-mid-blue-s), var(--event-mid-blue-l)) 0%,
      hsl(var(--event-deep-purple-h), var(--event-deep-purple-s), var(--event-deep-purple-l-mid)) 55%,
      hsl(var(--event-deep-purple-h), var(--event-deep-purple-s), var(--event-deep-purple-l-start)) 100%
    );
  background-color: hsl(var(--event-deep-purple-h), var(--event-deep-purple-s), 10%); /* Dark fallback for light theme */
  background-size: 100% 100%, 100% 100%, 150% 150%, 160% 160%, 100% 100%; /* Adjust sizes per layer for effect */
  background-position: center, center, 75% 25%, 25% 60%, center; /* Adjust positions per layer */
  background-repeat: no-repeat;
  background-blend-mode: screen; /* Blend layers for luminous effect */
  /* Subtle animation can be added later if the static look is approved */
  /* animation: apple-event-background-animation-light 30s ease-in-out infinite alternate; */
}

.dark .apple-event-splash-screen {
  /* Static Multi-Layered Background Gradients for Apple Poster Effect - Dark Theme Base */
  background-image:
    /* Layer 5: Strongest Light Beam (example) - adjust angles/positions */
    linear-gradient(
      125deg, /* Angle */
      transparent 42%,
      hsla(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%), var(--event-light-beam-edge-a, 0.35)) 48%, /* Dark theme values */
      hsla(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%), var(--event-light-beam-mid-a, 0.65)) 49.5%,
      hsl(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%)) 50%,
      hsla(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%), var(--event-light-beam-mid-a, 0.65)) 50.5%,
      hsla(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%), var(--event-light-beam-edge-a, 0.35)) 52%,
      transparent 58%
    ),
    /* Layer 4: Secondary Light Beam */
    linear-gradient(
      -30deg,
      transparent 45%,
      hsla(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%), calc(var(--event-light-beam-edge-a, 0.35) - 0.1)) 49%,
      hsla(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%), calc(var(--event-light-beam-mid-a, 0.65) - 0.2)) 50%,
      hsla(var(--event-light-beam-h, 205), var(--event-light-beam-s, 95%), var(--event-light-beam-core-l, 98%), calc(var(--event-light-beam-edge-a, 0.35) - 0.1)) 51%,
      transparent 55%
    ),
    /* Layer 3: Orange/Yellow Bloom */
    radial-gradient(
      ellipse 80% 70% at 75% 25%,
      hsla(var(--event-bloom-yellow-h, 50), var(--event-bloom-yellow-s, 100%), var(--event-bloom-yellow-l, 65%), var(--event-bloom-yellow-a, 0.6)) 0%,
      hsla(var(--event-bloom-orange-h, 35), var(--event-bloom-orange-s, 100%), var(--event-bloom-orange-l, 60%), var(--event-bloom-orange-a, 0.7)) 30%,
      transparent 65%
    ),
    /* Layer 2: Magenta/Purple Bloom */
    radial-gradient(
      ellipse 90% 80% at 25% 60%,
      hsla(var(--event-bloom-magenta-h, 315), var(--event-bloom-magenta-s, 80%), var(--event-bloom-magenta-l, 50%), var(--event-bloom-magenta-a, 0.75)) 0%,
      hsla(var(--event-deep-purple-h, 260), var(--event-deep-purple-s, 65%), var(--event-deep-purple-l-mid, 18%), calc(var(--event-bloom-magenta-a, 0.75) + 0.1)) 40%,
      transparent 70%
    ),
    /* Layer 1: Base Deep Space Gradient */
    linear-gradient(
      170deg,
      hsl(var(--event-mid-blue-h, 230), var(--event-mid-blue-s, 60%), var(--event-mid-blue-l, 25%)) 0%,
      hsl(var(--event-deep-purple-h, 260), var(--event-deep-purple-s, 65%), var(--event-deep-purple-l-mid, 18%)) 55%,
      hsl(var(--event-deep-purple-h, 260), var(--event-deep-purple-s, 65%), var(--event-deep-purple-l-start, 10%)) 100%
    );
  background-color: hsl(var(--event-deep-purple-h), var(--event-deep-purple-s), 5%); /* Darker base for dark theme */
  background-blend-mode: lighten; /* Lighten might work better for dark mode blooms */
  /* animation-name: apple-event-background-animation-dark; */
}


/* Subtle Heart Pulse Animation for Tagline */
@keyframes heartPulseSubtle {
  0%, 100% { transform: scale(1); opacity: 0.9; } 
  50% { transform: scale(1.05); opacity: 1; } 
}

.animate-heart-pulse-subtle {
  animation: heartPulseSubtle 2.0s infinite ease-in-out; 
}


/* --- Styles for Compact Notification Panel --- */
.notification-panel-compact {
  @apply bg-card border border-border/50 rounded-xl shadow-lg fixed top-16 right-4 z-50 flex flex-col; /* Base styles */
  width: 320px; /* Fixed compact width */
  max-height: 400px; /* Max height before scroll */
  /* Solid background, no frosted glass */
  background-color: hsl(var(--notification-panel-compact-bg));
  border-color: hsl(var(--notification-panel-compact-border));
}

.dark .notification-panel-compact {
  background-color: hsl(var(--notification-panel-compact-bg));
  border-color: hsl(var(--notification-panel-compact-border));
}

.notification-item-card-compact {
  background-color: hsl(var(--notification-item-compact-bg));
}
.notification-item-card-compact:hover {
  background-color: hsl(var(--notification-item-compact-hover-bg));
}

.dark .notification-item-card-compact {
  background-color: hsl(var(--notification-item-compact-bg));
}
.dark .notification-item-card-compact:hover {
  background-color: hsl(var(--notification-item-compact-hover-bg));
}

.notification-unread-dot {
  @apply h-1.5 w-1.5 rounded-full; /* Made slightly smaller */
  background-color: var(--notification-unread-dot-color); /* Direct CSS variable use */
}

/* Profile Icon Notification Ring Animations */
@keyframes ring-pulse {
  0%, 100% {
    box-shadow: 0 0 4px 1px hsl(var(--primary) / 0.5), 0 0 0 0px hsl(var(--primary) / 0.3);
  }
  50% {
    box-shadow: 0 0 6px 2px hsl(var(--primary) / 0.7), 0 0 0 3px hsl(var(--primary) / 0);
  }
}

@keyframes ring-comet-gradient {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

.profile-notification-ring {
  @apply absolute -top-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-background;
  content: '';
  pointer-events: none;
}

.profile-notification-ring-pulse {
  animation: ring-pulse 2s infinite ease-in-out;
}

.profile-notification-ring-comet {
  border-radius: 50%;
  padding: 0;
  position: relative;
  border-style: solid;
  border-width: 2px; /* Match existing border */
  border-color: transparent;

  background-image: conic-gradient(
    from 0deg,
    hsla(var(--accent)/0.8) 0% 15%,
    hsl(var(--primary)) 25% 35%,
    hsla(var(--accent)/0.8) 45% 60%,
    transparent 60% 100%
  );
  animation: ring-comet-gradient 2.5s linear infinite, ring-pulse 2.2s infinite ease-in-out 0.3s;
  background-size: 200% 100%;
  background-color: transparent;
}

.profile-notification-ring:not(.profile-notification-ring-comet) {
   background-color: hsl(var(--primary));
}


/* Chat Interface Animation Support Styles */
@keyframes pulseDotLight {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}
.animate-pulse-dot-light {
  animation: pulseDotLight 1.2s infinite ease-in-out;
}
.delay-0 { animation-delay: 0s; }
.delay-150 { animation-delay: 0.15s; }
.delay-300 { animation-delay: 0.3s; }


/* Animated Gradient Border for Notification Panel (Firebase Inspired) */
.notification-panel-animated-border {
  position: relative;
  border: 2px solid transparent; 
  overflow: hidden; 
}

.notification-panel-animated-border::before {
  content: "";
  position: absolute;
  inset: -2px; 
  border-radius: inherit; /* Inherit border-radius from the panel */
  padding: 2px; /* This is the "thickness" of the border */
  background: linear-gradient(
    135deg,
    var(--welcome-color-1),
    var(--welcome-color-2),
    var(--welcome-color-3),
    var(--welcome-color-4),
    var(--welcome-color-1) /* Loop back for smooth animation */
  );
  background-size: 300% 300%; /* Larger size for smoother gradient animation */
  animation: animated-gradient-background 4s ease infinite; 
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box, /* Transparent inner area */
    linear-gradient(#fff 0 0); /* Opaque border area */
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor; /* Use 'destination-out' or 'xor' depending on desired effect and browser */
  mask-composite: exclude; /* Standard property */
  z-index: -1; /* Ensure it's behind the content */
}
